2022-03-15 10:26:32:993 [Appium] Welcome to Appium v1.22.2
2022-03-15 10:26:32:994 [Appium] Non-default server args:
2022-03-15 10:26:32:994 [Appium]   address: 127.0.0.1
2022-03-15 10:26:32:995 [Appium]   sessionOverride: true
2022-03-15 10:26:32:995 [Appium]   logFile: ./serverlogs/d6acb3b580c166fc9172ebd5dd2d3f2749ce5c3c.log
2022-03-15 10:26:32:995 [Appium]   udid: d6acb3b580c166fc9172ebd5dd2d3f2749ce5c3c
2022-03-15 10:26:32:995 [Appium] Deprecated server args:
2022-03-15 10:26:32:995 [Appium]   -U => --default-capabilities
2022-03-15 10:26:32:996 [Appium] Default capabilities, which will be added to each request unless overridden by desired capabilities:
2022-03-15 10:26:32:996 [Appium]   udid: d6acb3b580c166fc9172ebd5dd2d3f2749ce5c3c
2022-03-15 10:26:33:011 [Appium] Appium REST http interface listener started on 127.0.0.1:4723
2022-03-15 10:26:34:861 [HTTP] Request idempotency key: 04b1a532-c569-4f7d-a239-d79c2fc1f2cd
2022-03-15 10:26:34:878 [HTTP] --> POST /wd/hub/session
2022-03-15 10:26:34:878 [HTTP] {"capabilities":{"alwaysMatch":{"platformName":"iOS","appium:platformVersion":"12.5.5","appium:deviceName":"测试机01","appium:app":"com.apple.AppStore","appium:udid":"d6acb3b580c166fc9172ebd5dd2d3f2749ce5c3c","appium:noReset":true,"appium:newCommandTimeout":600,"appium:automationName":"XCUITest","appium:autoLaunch":true,"appium:clearSystemFiles":true,"appium:wdaLocalPort":"8100"},"firstMatch":[{}]},"desiredCapabilities":{"platformName":"iOS","platformVersion":"12.5.5","deviceName":"测试机01","app":"com.apple.AppStore","udid":"d6acb3b580c166fc9172ebd5dd2d3f2749ce5c3c","noReset":true,"newCommandTimeout":600,"automationName":"XCUITest","autoLaunch":true,"clearSystemFiles":true,"wdaLocalPort":"8100"}}
2022-03-15 10:26:34:880 [W3C] Calling AppiumDriver.createSession() with args: [{"platformName":"iOS","platformVersion":"12.5.5","deviceName":"测试机01","app":"com.apple.AppStore","udid":"d6acb3b580c166fc9172ebd5dd2d3f2749ce5c3c","noReset":true,"newCommandTimeout":600,"automationName":"XCUITest","autoLaunch":true,"clearSystemFiles":true,"wdaLocalPort":"8100"},null,{"alwaysMatch":{"platformName":"iOS","appium:platformVersion":"12.5.5","appium:deviceName":"测试机01","appium:app":"com.apple.AppStore","appium:udid":"d6acb3b580c166fc9172ebd5dd2d3f2749ce5c3c","appium:noReset":true,"appium:newCommandTimeout":600,"appium:automationName":"XCUITest","appium:autoLaunch":true,"appium:clearSystemFiles":true,"appium:wdaLocalPort":"8100"},"firstMatch":[{}]}]
2022-03-15 10:26:34:881 [BaseDriver] Event 'newSessionRequested' logged at 1647339994881 (18:26:34 GMT+0800 (China Standard Time))
2022-03-15 10:26:35:135 [Appium] Appium v1.22.2 creating new XCUITestDriver (v3.59.0) session
2022-03-15 10:26:35:135 [Appium] There are no active sessions for cleanup
2022-03-15 10:26:35:137 [BaseDriver] W3C capabilities and MJSONWP desired capabilities were provided
2022-03-15 10:26:35:137 [BaseDriver] Creating session with W3C capabilities: {
2022-03-15 10:26:35:138 [BaseDriver]   "alwaysMatch": {
2022-03-15 10:26:35:138 [BaseDriver]     "platformName": "iOS",
2022-03-15 10:26:35:138 [BaseDriver]     "appium:platformVersion": "12.5.5",
2022-03-15 10:26:35:138 [BaseDriver]     "appium:deviceName": "测试机01",
2022-03-15 10:26:35:138 [BaseDriver]     "appium:app": "com.apple.AppStore",
2022-03-15 10:26:35:138 [BaseDriver]     "appium:udid": "d6acb3b580c166fc9172ebd5dd2d3f2749ce5c3c",
2022-03-15 10:26:35:138 [BaseDriver]     "appium:noReset": true,
2022-03-15 10:26:35:138 [BaseDriver]     "appium:newCommandTimeout": 600,
2022-03-15 10:26:35:138 [BaseDriver]     "appium:automationName": "XCUITest",
2022-03-15 10:26:35:138 [BaseDriver]     "appium:autoLaunch": true,
2022-03-15 10:26:35:139 [BaseDriver]     "appium:clearSystemFiles": true,
2022-03-15 10:26:35:139 [BaseDriver]     "appium:wdaLocalPort": "8100"
2022-03-15 10:26:35:139 [BaseDriver]   },
2022-03-15 10:26:35:139 [BaseDriver]   "firstMatch": [
2022-03-15 10:26:35:139 [BaseDriver]     {}
2022-03-15 10:26:35:139 [BaseDriver]   ]
2022-03-15 10:26:35:139 [BaseDriver] }
2022-03-15 10:26:35:141 [BaseDriver] Number capability passed in as string. Functionality may be compromised.
2022-03-15 10:26:35:144 [BaseDriver] Capability 'wdaLocalPort' changed from string ('8100') to integer (8100). This may cause unexpected behavior
2022-03-15 10:26:35:146 [BaseDriver] Session created with session id: cee35897-0e28-4f25-8f55-eaccbc3da8ff
2022-03-15 10:26:35:157 [XCUITest] Current user: 'taken'
2022-03-15 10:26:35:170 [XCUITest] Available devices: 00008101-001A405436C2001E, d6acb3b580c166fc9172ebd5dd2d3f2749ce5c3c, e78cdc38581092179c4b3cfc28ade49cea3a1370
2022-03-15 10:26:35:170 [XCUITest] Creating iDevice object with udid 'd6acb3b580c166fc9172ebd5dd2d3f2749ce5c3c'
2022-03-15 10:26:35:170 [XCUITest] Determining device to run tests on: udid: 'd6acb3b580c166fc9172ebd5dd2d3f2749ce5c3c', real device: true
2022-03-15 10:26:35:171 [XCUITest] Normalized platformVersion capability value '12.5.5' to '12.5'
2022-03-15 10:26:35:205 [BaseDriver] Event 'xcodeDetailsRetrieved' logged at 1647339995205 (18:26:35 GMT+0800 (China Standard Time))
2022-03-15 10:26:35:206 [XCUITest] App is an iOS bundle, will attempt to run as pre-existing
2022-03-15 10:26:35:206 [BaseDriver] Event 'appConfigured' logged at 1647339995206 (18:26:35 GMT+0800 (China Standard Time))
2022-03-15 10:26:35:206 [BaseDriver] Event 'resetStarted' logged at 1647339995206 (18:26:35 GMT+0800 (China Standard Time))
2022-03-15 10:26:35:207 [XCUITest] Reset: fullReset not set. Leaving as is
2022-03-15 10:26:35:207 [BaseDriver] Event 'resetComplete' logged at 1647339995207 (18:26:35 GMT+0800 (China Standard Time))
2022-03-15 10:26:35:207 [WebDriverAgent] Using WDA path: '/usr/local/lib/node_modules/appium/node_modules/appium-webdriveragent'
2022-03-15 10:26:35:208 [WebDriverAgent] Using WDA agent: '/usr/local/lib/node_modules/appium/node_modules/appium-webdriveragent/WebDriverAgent.xcodeproj'
2022-03-15 10:26:35:511 [XCUITest] Crash reports root '/Users/taken/Library/Logs/CrashReporter/MobileDevice/测试机01' does not exist. Got nothing to gather.
2022-03-15 10:26:35:512 [BaseDriver] Event 'logCaptureStarted' logged at 1647339995512 (18:26:35 GMT+0800 (China Standard Time))
2022-03-15 10:26:35:512 [XCUITest] Setting up real device
2022-03-15 10:26:35:813 [WebDriverAgent] No obsolete cached processes from previous WDA sessions listening on port 8100 have been found
2022-03-15 10:26:35:815 [DevCon Factory] Requesting connection for device d6acb3b580c166fc9172ebd5dd2d3f2749ce5c3c on local port 8100, device port 8100
2022-03-15 10:26:35:815 [DevCon Factory] Cached connections count: 0
2022-03-15 10:26:35:824 [DevCon Factory] Successfully requested the connection for d6acb3b580c166fc9172ebd5dd2d3f2749ce5c3c:8100
2022-03-15 10:26:35:826 [XCUITest] Starting WebDriverAgent initialization with the synchronization key 'XCUITestDriver'
2022-03-15 10:26:35:830 [WD Proxy] Matched '/status' to command name 'getStatus'
2022-03-15 10:26:35:831 [WD Proxy] Proxying [GET /status] to [GET http://127.0.0.1:8100/status] with no body
2022-03-15 10:26:35:873 [WD Proxy] Got response with status 200: {"value":{"message":"WebDriverAgent is ready to accept commands","state":"success","os":{"testmanagerdVersion":26,"name":"iOS","sdkVersion":"15.0","version":"12.5.5"},"ios":{"ip":"192.168.31.64"},"ready":true,"build":{"time":"Mar 15 2022 18:10:14","productBundleIdentifier":"com.facebook.WebDriverAgentRunner"}},"sessionId":null}
2022-03-15 10:26:35:875 [WebDriverAgent] Upgrade timestamp of the currently bundled WDA: 1646812416206
2022-03-15 10:26:35:875 [WebDriverAgent] Upgrade timestamp of the WDA on the device: undefined
2022-03-15 10:26:35:875 [WebDriverAgent] Will reuse previously cached WDA instance at 'http://127.0.0.1:8100/' with 'com.facebook.WebDriverAgentRunner'. Set the wdaLocalPort capability to a value different from 8100 if this is an undesired behavior.
2022-03-15 10:26:35:875 [XCUITest] Trying to start WebDriverAgent 1 times with 10000ms interval
2022-03-15 10:26:35:875 [XCUITest] These values can be customized by changing wdaStartupRetries/wdaStartupRetryInterval capabilities
2022-03-15 10:26:35:876 [BaseDriver] Event 'wdaStartAttempted' logged at 1647339995876 (18:26:35 GMT+0800 (China Standard Time))
2022-03-15 10:26:35:876 [WebDriverAgent] Using provided WebdriverAgent at 'http://127.0.0.1:8100/'
2022-03-15 10:26:35:877 [WD Proxy] Matched '/status' to command name 'getStatus'
2022-03-15 10:26:35:877 [WD Proxy] Proxying [GET /status] to [GET http://127.0.0.1:8100/status] with no body
2022-03-15 10:26:35:889 [WD Proxy] Got response with status 200: {"value":{"message":"WebDriverAgent is ready to accept commands","state":"success","os":{"testmanagerdVersion":26,"name":"iOS","sdkVersion":"15.0","version":"12.5.5"},"ios":{"ip":"192.168.31.64"},"ready":true,"build":{"time":"Mar 15 2022 18:10:14","productBundleIdentifier":"com.facebook.WebDriverAgentRunner"}},"sessionId":null}
2022-03-15 10:26:35:889 [BaseDriver] Event 'wdaSessionAttempted' logged at 1647339995889 (18:26:35 GMT+0800 (China Standard Time))
2022-03-15 10:26:35:890 [XCUITest] Sending createSession command to WDA
2022-03-15 10:26:35:890 [WD Proxy] Matched '/session' to command name 'createSession'
2022-03-15 10:26:35:891 [WD Proxy] Proxying [POST /session] to [POST http://127.0.0.1:8100/session] with body: {"capabilities":{"firstMatch":[{"bundleId":"com.apple.AppStore","arguments":[],"environment":{},"eventloopIdleDelaySec":0,"shouldWaitForQuiescence":true,"shouldUseTestManagerForVisibilityDetection":false,"maxTypingFrequency":60,"shouldUseSingletonTestManager":true,"shouldTerminateApp":false,"forceAppLaunch":false,"useNativeCachingStrategy":true,"forceSimulatorSoftwareKeyboardPresence":true}],"alwaysMatch":{}}}
2022-03-15 10:26:36:377 [WD Proxy] Got response with status 200: {"value":{"sessionId":"9ACC7108-785C-4C2E-9C4E-D6170D3AE2FE","capabilities":{"device":"iphone","browserName":"App Store","sdkVersion":"12.5.5","CFBundleIdentifier":"com.apple.AppStore"}},"sessionId":"9ACC7108-785C-4C2E-9C4E-D6170D3AE2FE"}
2022-03-15 10:26:36:377 [WD Proxy] Determined the downstream protocol as 'W3C'
2022-03-15 10:26:36:377 [BaseDriver] Event 'wdaSessionStarted' logged at 1647339996377 (18:26:36 GMT+0800 (China Standard Time))
2022-03-15 10:26:39:373 [WebDriverAgent] Parsed BUILD_DIR configuration value: '/Users/taken/Library/Developer/Xcode/DerivedData/WebDriverAgent-ciegwgvxzxdrqthilmrmczmqvrgu/Build/Products'
2022-03-15 10:26:39:373 [WebDriverAgent] Got derived data root: '/Users/taken/Library/Developer/Xcode/DerivedData/WebDriverAgent-ciegwgvxzxdrqthilmrmczmqvrgu'
2022-03-15 10:26:39:374 [BaseDriver] Event 'wdaStarted' logged at 1647339999373 (18:26:39 GMT+0800 (China Standard Time))
2022-03-15 10:26:39:374 [XCUITest] Skipping setting of the initial display orientation. Set the "orientation" capability to either "LANDSCAPE" or "PORTRAIT", if this is an undesired behavior.
2022-03-15 10:26:39:374 [BaseDriver] Event 'orientationSet' logged at 1647339999374 (18:26:39 GMT+0800 (China Standard Time))
2022-03-15 10:26:39:375 [BaseDriver] The value of 'elementResponseAttributes' setting did not change. Skipping the update for it
2022-03-15 10:26:39:375 [BaseDriver] The value of 'shouldUseCompactResponses' setting did not change. Skipping the update for it
2022-03-15 10:26:39:375 [Appium] New XCUITestDriver session created successfully, session cee35897-0e28-4f25-8f55-eaccbc3da8ff added to master session list
2022-03-15 10:26:39:377 [BaseDriver] Event 'newSessionStarted' logged at 1647339999376 (18:26:39 GMT+0800 (China Standard Time))
2022-03-15 10:26:39:377 [W3C (cee35897)] Cached the protocol value 'W3C' for the new session cee35897-0e28-4f25-8f55-eaccbc3da8ff
2022-03-15 10:26:39:378 [W3C (cee35897)] Responding to client with driver.createSession() result: {"capabilities":{"webStorageEnabled":false,"locationContextEnabled":false,"browserName":"","platform":"MAC","javascriptEnabled":true,"databaseEnabled":false,"takesScreenshot":true,"networkConnectionEnabled":false,"platformName":"iOS","platformVersion":"12.5.5","deviceName":"测试机01","app":"com.apple.AppStore","udid":"d6acb3b580c166fc9172ebd5dd2d3f2749ce5c3c","noReset":true,"newCommandTimeout":600,"automationName":"XCUITest","autoLaunch":true,"clearSystemFiles":true,"wdaLocalPort":8100}}
2022-03-15 10:26:39:381 [HTTP] <-- POST /wd/hub/session 200 4503 ms - 556
2022-03-15 10:26:39:382 [HTTP] 
2022-03-15 10:26:39:384 [HTTP] --> POST /wd/hub/session/cee35897-0e28-4f25-8f55-eaccbc3da8ff/appium/app/background
2022-03-15 10:26:39:384 [HTTP] {"seconds":-1}
2022-03-15 10:26:39:392 [W3C (cee35897)] Calling AppiumDriver.background() with args: [-1,"cee35897-0e28-4f25-8f55-eaccbc3da8ff"]
2022-03-15 10:26:39:393 [XCUITest] Executing command 'background'
2022-03-15 10:26:39:400 [XCUITest] Proxying to WDA with an unknown route: POST /wda/homescreen
2022-03-15 10:26:39:401 [WD Proxy] Proxying [POST /wda/homescreen] to [POST http://127.0.0.1:8100/wda/homescreen] with body: {}
2022-03-15 10:26:40:184 [WD Proxy] Got response with status 200: {"value":null,"sessionId":"9ACC7108-785C-4C2E-9C4E-D6170D3AE2FE"}
2022-03-15 10:26:40:185 [W3C (cee35897)] Responding to client with driver.background() result: null
2022-03-15 10:26:40:186 [HTTP] <-- POST /wd/hub/session/cee35897-0e28-4f25-8f55-eaccbc3da8ff/appium/app/background 200 801 ms - 14
2022-03-15 10:26:40:186 [HTTP] 
2022-03-15 10:26:40:188 [HTTP] --> DELETE /wd/hub/session/cee35897-0e28-4f25-8f55-eaccbc3da8ff
2022-03-15 10:26:40:189 [HTTP] {}
2022-03-15 10:26:40:190 [W3C (cee35897)] Calling AppiumDriver.deleteSession() with args: ["cee35897-0e28-4f25-8f55-eaccbc3da8ff"]
2022-03-15 10:26:40:190 [BaseDriver] Event 'quitSessionRequested' logged at 1647340000190 (18:26:40 GMT+0800 (China Standard Time))
2022-03-15 10:26:40:191 [Appium] Removing session cee35897-0e28-4f25-8f55-eaccbc3da8ff from our master session list
2022-03-15 10:26:40:192 [WD Proxy] Matched '/session/cee35897-0e28-4f25-8f55-eaccbc3da8ff' to command name 'deleteSession'
2022-03-15 10:26:40:192 [WD Proxy] Proxying [DELETE /session/cee35897-0e28-4f25-8f55-eaccbc3da8ff] to [DELETE http://127.0.0.1:8100/session/9ACC7108-785C-4C2E-9C4E-D6170D3AE2FE] with no body
2022-03-15 10:26:40:200 [WD Proxy] Got response with status 200: {"value":null,"sessionId":null}
2022-03-15 10:26:40:201 [DevCon Factory] Releasing connections for d6acb3b580c166fc9172ebd5dd2d3f2749ce5c3c device on any port number
2022-03-15 10:26:40:201 [DevCon Factory] Found cached connections to release: ["d6acb3b580c166fc9172ebd5dd2d3f2749ce5c3c:8100"]
2022-03-15 10:26:40:202 [DevCon Factory] Releasing the listener for 'd6acb3b580c166fc9172ebd5dd2d3f2749ce5c3c:8100'
2022-03-15 10:26:40:202 [iProxy@d6acb3b5:8100] Closing the connection
2022-03-15 10:26:40:202 [DevCon Factory] Cached connections count: 0
2022-03-15 10:26:40:208 [XCUITest] Did not find the temporary XCTest logs root at '/var/folders/b0/3cjsvw313m362_fslvl351680000gn/T/com.apple.dt.XCTest*/'
2022-03-15 10:26:40:208 [XCUITest] Cleaning test logs in '/Users/taken/Library/Developer/Xcode/DerivedData/WebDriverAgent-ciegwgvxzxdrqthilmrmczmqvrgu/Logs' folder
2022-03-15 10:26:40:209 [XCUITest] Clearing log files
2022-03-15 10:26:40:220 [XCUITest] Deleting '/Users/taken/Library/Developer/Xcode/DerivedData/WebDriverAgent-ciegwgvxzxdrqthilmrmczmqvrgu/Logs'. Freeing 12K.
2022-03-15 10:26:40:227 [XCUITest] Finished clearing log files
2022-03-15 10:26:40:229 [BaseDriver] Event 'quitSessionFinished' logged at 1647340000228 (18:26:40 GMT+0800 (China Standard Time))
2022-03-15 10:26:40:229 [W3C (cee35897)] Received response: null
2022-03-15 10:26:40:230 [W3C (cee35897)] But deleting session, so not returning
2022-03-15 10:26:40:230 [W3C (cee35897)] Responding to client with driver.deleteSession() result: null
2022-03-15 10:26:40:233 [HTTP] <-- DELETE /wd/hub/session/cee35897-0e28-4f25-8f55-eaccbc3da8ff 200 43 ms - 14
2022-03-15 10:26:40:233 [HTTP] 
2022-03-15 10:27:10:212 uncaughtException: write EPIPE
Error: write EPIPE
    at afterWriteDispatched (internal/stream_base_commons.js:156:25)
    at writeGeneric (internal/stream_base_commons.js:147:3)
    at Socket._writeGeneric (net.js:787:11)
    at Socket._write (net.js:799:8)
    at doWrite (_stream_writable.js:403:12)
    at writeOrBuffer (_stream_writable.js:387:5)
    at Socket.Writable.write (_stream_writable.js:318:11)
    at Console.log (/usr/local/lib/node_modules/appium/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/appium/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/appium/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:428:64)
    at writeOrBuffer (/usr/local/lib/node_modules/appium/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:417:5)
    at Console.Writable.write (/usr/local/lib/node_modules/appium/node_modules/winston-transport/node_modules/readable-stream/lib/_stream_writable.js:334:11)
    at DerivedLogger.ondata (/usr/local/lib/node_modules/appium/node_modules/readable-stream/lib/_stream_readable.js:681:20)
    at DerivedLogger.emit (events.js:326:22)
    at addChunk (/usr/local/lib/node_modules/appium/node_modules/readable-stream/lib/_stream_readable.js:298:12)
    at readableAddChunk (/usr/local/lib/node_modules/appium/node_modules/readable-stream/lib/_stream_readable.js:280:11)
